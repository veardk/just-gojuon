(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[33],{4910:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/practice/dictation/result",function(){return a(2857)}])},2857:function(e,t,a){"use strict";a.r(t);var s=a(5893);a(7294);var i=a(9008),n=a.n(i),r=a(1163),c=a(9556),l=a(5274),o=a(6886),d=a(4148),u=a(4752),x=a(4848),m=a(5817);t.default=()=>{let e=(0,r.useRouter)(),t=(0,c.ZK)(),a=(0,l.Gq)(),i=(0,l.NT)();return(0,s.jsxs)(d.Z,{children:[(0,s.jsx)(n(),{children:(0,s.jsx)("title",{children:"zh"===t?"练习完成 - Just Gojuon":"Practice Complete - Just Gojuon"})}),(0,s.jsx)(u.Z,{className:"py-8",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-semantic-success to-japanese-accent rounded-2xl mb-4",children:(0,s.jsx)("span",{className:"text-white text-3xl",children:"\uD83C\uDF89"})}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-text-primary mb-4 font-display",children:"zh"===t?"听写练习完成！":"Dictation Practice Complete!"}),(0,s.jsx)("p",{className:"text-text-secondary",children:"zh"===t?"恭喜您完成了这次听写练习，继续保持学习的热情！":"Congratulations on completing this dictation practice session!"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,s.jsxs)(m.Z,{className:"text-center",children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:(e=>{let a=Math.floor(e/60),s=e%60;return a>0?"".concat(a).concat("zh"===t?"分":"min"," ").concat(s).concat("zh"===t?"秒":"s"):"".concat(s).concat("zh"===t?"秒":"s")})(a.sessionDuration)}),(0,s.jsx)("div",{className:"text-sm text-text-secondary",children:"zh"===t?"实际练习时长":"Actual Duration"})]}),(0,s.jsxs)(m.Z,{className:"text-center",children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-japanese-hiragana mb-2",children:a.totalPlayed}),(0,s.jsx)("div",{className:"text-sm text-text-secondary",children:"zh"===t?"播放音频数":"Audio Played"})]}),(0,s.jsxs)(m.Z,{className:"text-center",children:[(0,s.jsxs)("div",{className:"text-3xl font-bold text-japanese-katakana mb-2",children:[(()=>{let e=60*i.duration;return Math.round(a.sessionDuration/e*100)})(),"%"]}),(0,s.jsx)("div",{className:"text-sm text-text-secondary",children:"zh"===t?"完成度":"Completion Rate"})]}),(0,s.jsxs)(m.Z,{className:"text-center",children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-japanese-accent mb-2",children:a.categoriesUsed.length}),(0,s.jsx)("div",{className:"text-sm text-text-secondary",children:"zh"===t?"练习分类":"Categories Used"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[(0,s.jsxs)(m.Z,{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"zh"===t?"练习配置":"Practice Configuration"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-text-secondary",children:"zh"===t?"计划时长：":"Planned Duration:"}),(0,s.jsxs)("span",{className:"font-medium",children:[i.duration," ","zh"===t?"分钟":"minutes"]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-text-secondary",children:"zh"===t?"重复次数：":"Repetitions:"}),(0,s.jsxs)("span",{className:"font-medium",children:[i.audioSettings.repeatCount," ","zh"===t?"次":"times"]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-text-secondary",children:"zh"===t?"音频间隔：":"Audio Interval:"}),(0,s.jsxs)("span",{className:"font-medium",children:[i.audioSettings.intervalTime," ","zh"===t?"秒":"seconds"]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-text-secondary",children:"zh"===t?"播放速度：":"Playback Speed:"}),(0,s.jsxs)("span",{className:"font-medium",children:[i.audioSettings.playbackRate,"x"]})]})]})]}),(0,s.jsxs)(m.Z,{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"zh"===t?"练习分类":"Practice Categories"}),(0,s.jsx)("div",{className:"space-y-2",children:a.categoriesUsed.map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-3 h-3 bg-primary-500 rounded-full"}),(0,s.jsx)("span",{className:"text-text-primary",children:o.Hs[e][t]})]},e))})]})]}),a.playedAudios&&a.playedAudios.length>0&&(0,s.jsxs)(m.Z,{className:"mb-8",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"zh"===t?"播放记录":"Audio Playback Record"}),(0,s.jsx)("div",{className:"max-h-60 overflow-y-auto",children:(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3",children:a.playedAudios.map((e,a)=>(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 text-center hover:bg-gray-100 transition-colors",children:[(0,s.jsxs)("div",{className:"font-japanese text-lg font-bold text-primary-600 mb-1",children:[e.hiragana," / ",e.katakana]}),(0,s.jsx)("div",{className:"text-xs text-text-secondary",children:e.romaji}),(0,s.jsxs)("div",{className:"text-xs text-text-tertiary mt-1",children:["zh"===t?"重复":"x",e.repeatCount]})]},"".concat(e.kanaId,"-").concat(a)))})}),(0,s.jsx)("div",{className:"mt-4 text-sm text-text-secondary text-center",children:"zh"===t?"共播放了 ".concat(a.playedAudios.length," 个音频"):"Total ".concat(a.playedAudios.length," audio files played")})]}),(0,s.jsxs)(m.Z,{className:"mb-8 bg-gradient-to-r from-primary-50 to-japanese-accent/10 border-primary-200",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"zh"===t?"学习建议":"Learning Tips"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-text-secondary",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("p",{children:["✅ ","zh"===t?"检查您写下的答案，对照上方播放记录确认正确性":"Check your written answers against the playback record above for accuracy"]}),(0,s.jsxs)("p",{children:["\uD83D\uDCDA ","zh"===t?"重点练习听错或不熟悉的假名字符":"Focus on practicing kana characters you missed or found difficult"]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("p",{children:["\uD83D\uDD04 ","zh"===t?"建议每天进行听写练习，提高听音辨识能力":"Practice dictation daily to improve audio recognition skills"]}),(0,s.jsxs)("p",{children:["\uD83D\uDCC8 ","zh"===t?"逐步增加练习时长和难度，挑战更多分类":"Gradually increase practice duration and difficulty with more categories"]})]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-4",children:[(0,s.jsx)(x.Z,{variant:"primary",size:"lg",onClick:()=>e.push("/practice/dictation"),children:"zh"===t?"再次练习":"Practice Again"}),(0,s.jsx)(x.Z,{variant:"outline",size:"lg",onClick:()=>e.push("/chart"),children:"zh"===t?"查看假名表":"View Kana Chart"}),(0,s.jsx)(x.Z,{variant:"outline",size:"lg",onClick:()=>e.push("/"),children:"zh"===t?"返回首页":"Back to Home"})]}),(0,s.jsx)(m.Z,{className:"mt-8",children:(0,s.jsxs)("div",{className:"text-center text-sm text-text-secondary",children:[(0,s.jsxs)("p",{children:["zh"===t?"练习开始时间：":"Started at: ",a.startTime.toLocaleString("zh"===t?"zh-CN":"en-US")]}),a.endTime&&(0,s.jsxs)("p",{children:["zh"===t?"练习结束时间：":"Ended at: ",a.endTime.toLocaleString("zh"===t?"zh-CN":"en-US")]})]})})]})})]})}},5274:function(e,t,a){"use strict";a.d(t,{Gq:function(){return useDictationStats},NT:function(){return useDictationConfig},Uf:function(){return u},m:function(){return useDictationState},o9:function(){return useCurrentAudioItem}});var s=a(4529),i=a(782),n=a(5231),r=a(8421),c=a(4920);let l={selectedCategories:[n.B.SEION],duration:5,audioSettings:{volume:.8,playbackRate:1,intervalTime:2,repeatCount:3}},o={isActive:!1,isPaused:!1,currentAudioIndex:0,totalAudios:0,remainingTime:0,playedCount:0,currentRepeat:0},d={totalPlayed:0,sessionDuration:0,categoriesUsed:[],startTime:new Date,playedAudios:[]},u=(0,s.Ue)()((0,i.tJ)((e,t)=>({config:l,state:o,stats:d,playlist:[],currentItem:null,updateConfig:t=>{e(e=>({config:{...e.config,...t}}))},updateAudioSettings:t=>{e(e=>({config:{...e.config,audioSettings:{...e.config.audioSettings,...t}}}))},generatePlaylist:()=>{let{config:a}=t(),s=a.selectedCategories.flatMap(e=>(0,c.uY)(e)),i=(0,c.Sy)(s).map((e,t)=>({id:"audio-".concat(t),kanaId:e.id,audioUrl:(0,c.pm)(e),category:e.category,hiragana:e.hiragana,katakana:e.katakana,romaji:e.romaji}));e({playlist:i,state:{...t().state,totalAudios:i.length,currentAudioIndex:0},currentItem:i[0]||null})},startDictation:()=>{let{config:a}=t();t().generatePlaylist(),e({state:{...o,isActive:!0,remainingTime:60*a.duration,totalAudios:t().playlist.length},stats:{...d,startTime:new Date,categoriesUsed:a.selectedCategories,playedAudios:[]}})},pauseDictation:()=>{e(e=>({state:{...e.state,isPaused:!0}}))},resumeDictation:()=>{e(e=>({state:{...e.state,isPaused:!1}}))},stopDictation:()=>{let a=t().stats,s=a.startTime,i=new Date,n=Math.floor((i.getTime()-s.getTime())/1e3);e({state:o,stats:{...a,endTime:i,sessionDuration:n},currentItem:null})},nextAudio:()=>{let{state:a,playlist:s}=t(),i=a.currentAudioIndex+1;if(console.log("nextAudio called, current index:",a.currentAudioIndex,"next index:",i,"playlist length:",s.length),i<s.length){var n;console.log("Moving to next audio:",null===(n=s[i])||void 0===n?void 0:n.romaji),e({state:{...a,currentAudioIndex:i,playedCount:a.playedCount+1,currentRepeat:0},currentItem:s[i]||null})}else{console.log("All audios completed, stopping dictation");let a=t().stats,s=a.startTime,i=new Date,n=Math.floor((i.getTime()-s.getTime())/1e3);e({state:{...t().state,isActive:!1,remainingTime:0},stats:{...a,endTime:i,sessionDuration:n}})}},previousAudio:()=>{let{state:a,playlist:s}=t(),i=a.currentAudioIndex>0?a.currentAudioIndex-1:s.length-1;e({state:{...a,currentAudioIndex:i,currentRepeat:0},currentItem:s[i]||null})},updateTimer:()=>{let{state:a}=t();a.isActive&&!a.isPaused&&a.remainingTime>0&&(e(e=>({state:{...e.state,remainingTime:e.state.remainingTime-1}})),a.remainingTime<=1&&t().stopDictation())},resetConfig:()=>{e({config:l})},recordAudioPlayed:(t,a)=>{let s={kanaId:t.kanaId,hiragana:t.hiragana,katakana:t.katakana,romaji:t.romaji,category:t.category,playedAt:new Date,repeatCount:a};e(e=>({stats:{...e.stats,totalPlayed:e.stats.totalPlayed+1,playedAudios:[...e.stats.playedAudios,s]}}))},updateCurrentRepeat:t=>{e(e=>({state:{...e.state,currentRepeat:t}}))},resetStats:()=>{e({stats:d})}}),{name:r.I.USER_SETTINGS+"-dictation",partialize:e=>({config:e.config,stats:e.stats})})),useDictationConfig=()=>u(e=>e.config),useDictationState=()=>u(e=>e.state),useDictationStats=()=>u(e=>e.stats),useCurrentAudioItem=()=>u(e=>e.currentItem)},4920:function(e,t,a){"use strict";a.d(t,{LN:function(){return getKanaCategoryColor},OA:function(){return getKanaDisplayText},Sy:function(){return shuffleArray},pm:function(){return getKanaAudioUrl},uY:function(){return getKanaByCategory}});var s=a(5231),i=a(6886);let getKanaByCategory=e=>e?i.IC[e]||[]:i.q,shuffleArray=e=>{let t=[...e];for(let e=t.length-1;e>0;e--){let a=Math.floor(Math.random()*(e+1));[t[e],t[a]]=[t[a],t[e]]}return t},getKanaDisplayText=(e,t)=>t===s.k.HIRAGANA?e.hiragana:e.katakana,getKanaCategoryColor=e=>{let t={[s.B.SEION]:"text-japanese-hiragana",[s.B.DAKUON]:"text-japanese-katakana",[s.B.HANDAKUON]:"text-japanese-romaji",[s.B.YOON]:"text-japanese-accent"};return t[e]||"text-gray-600"},getKanaAudioUrl=e=>{let t={[s.B.SEION]:"seion",[s.B.DAKUON]:"dakuon",[s.B.HANDAKUON]:"handakuon",[s.B.YOON]:"yoon"},a=t[e.category];return"/sounds/".concat(a,"/").concat(e.romaji,".mp3")}}},function(e){e.O(0,[372,886,774,888,179],function(){return e(e.s=4910)}),_N_E=e.O()}]);